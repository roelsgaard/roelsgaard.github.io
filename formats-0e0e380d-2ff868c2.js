import{b as t}from"./app-index-b8a41673.js";class a{static calculateTotalComments(t){return!t.comments||t.comments.data.length<=0?0:t.comments.data.reduce((t,a)=>t+a.comment_count,t.comments.data.length)}static getImages(t){if(!t.attachments||!t.attachments.data)return;const a=[];return t.attachments.data.forEach(t=>{if(!t.subattachments||!t.subattachments.data)return void a.push(t.media.image);t.subattachments.data.forEach(t=>{a.push(t.media.image)})}),a}}const e={method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}};class s{constructor(){this.feedData=[]}static getInstance(){return s.instance||(s.instance=new s),s.instance}get feed(){return this.feedData}get hasMore(){return this.lastDataCount>0}async init(){try{const a="updated_time,created_time,story,message,attachments,link,source,full_picture,icon,name,picture,type,comments{comment_count},from",s=await fetch(`https://graph.facebook.com/${t.facebook.apiVersion}/${t.facebook.groupId}/feed?fields=${a}&access_token=${t.facebook.accessToken}`,e),n=await s.json();return this.feedData=n.data,this.feedPaging=n.paging,this.lastDataCount=n.data.length,this.feedData}catch(t){throw console.error(t),t}}async loadMore(){const t=await fetch(this.feedPaging.next,e),a=await t.json();this.feedData=this.feedData.concat(a.data),this.feedPaging=a.paging,this.lastDataCount=a.data.length}}class n{static dateTime(t){return new Date(t).toLocaleString()}}export{s as F,n as a,a as b};
